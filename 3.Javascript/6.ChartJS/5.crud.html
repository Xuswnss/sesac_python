<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <button id="load">정보요청 GET 요청</button>
    <div id="result"></div>

    <button id="create">   정보생성요청</button>
    <button id="delete">delete</button>
    <button id="modify">modify</button>
    <script>
        document.getElementById('load').addEventListener('click' , ()=>{
            console.log('버튼 클릭')
            fetch('https://jsonplaceholder.typicode.com/posts/1')
                .then(res => {
                    console.log(res)
                    res.json()
                    
                })
                .then(data => document.getElementById('result').innerText = JSON.stringify(data))
            console.log('fetch 이후')

        })

        // post
        document.getElementById('create').addEventListener('click' , ()=>{
            // 객체 타입
            const newData = {
                title : 'hello sesac',
                body : 'hohoho',
                userId :5
            }
            fetch('https://jsonplaceholder.typicode.com/posts', {
                method : 'POST',
                headers : {
                    'Content-Type' : 'application/json; chaste=UTF-8 '
                },
                body : JSON.stringify(newData) //모든 정보는 문자열로!!!! 보내야함!!!!!!
            })
            .then((res => res.json()))
            .then(json => document.getElementById('result').innerText = JSON.stringify(json))

        })

        //DELETE
        document.getElementById('delete').addEventListener('click' , () => {
            fetch('https://jsonplaceholder.typicode.com/posts/111', {
                method : 'DELETE'
            })
        })

        const updateData = {
                title : 'hello sesac',
                body : 'hohoho',
                userId :5
            }

            //Modify
            document.getElementById('modify').addEventListener('click' , () => {
            fetch('https://jsonplaceholder.typicode.com/posts/111', {
                method : 'PUT',
                body : JSON.stringify(updateData),
                headers : {
                    'Content-Type' : 'application/json; chaste=UTF-8 '
                },
            })
        })


    </script>
</body>
</html>